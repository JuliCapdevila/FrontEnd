<body>
    <div class="main-container">
        <div class="card">
            <h1>Registrarse</h1>
            <form (ngSubmit)="register($event)" #registerForm="ngForm">
                <div>
                    <label for="firstName">Nombre*</label>
                    <input 
                        id="firstName" 
                        name="firstName" 
                        required 
                        autocomplete="given-name"
                        [(ngModel)]="formData.firstName"
                        #firstNameInput="ngModel">
                    @if (firstNameInput.invalid && firstNameInput.touched) {
                        <p class="error">Debe colocar un Nombre.</p>
                    }
                </div>
                <div>
                    <label for="lastName">Apellido*</label>
                    <input 
                        id="lastName" 
                        name="lastName" 
                        required 
                        autocomplete="family-name"
                        [(ngModel)]="formData.lastName"
                        #lastNameInput="ngModel">
                    @if (lastNameInput.invalid && lastNameInput.touched) {
                        <p class="error">Debe colocar un Apellido.</p>
                    }
                </div>
                <div>
                    <label for="email">Correo electrónico*</label>
                    <input 
                        id="email" 
                        name="email" 
                        type="email" 
                        required 
                        autocomplete="email"
                        [(ngModel)]="formData.email"
                        #emailInput="ngModel">
                    @if (emailInput.invalid && emailInput.touched) {
                        <p class="error">Debe colocar un correo electrónico válido.</p>
                    }
                </div>
                <div>
                    <label for="password">Contraseña*</label>
                    <input 
                        id="password" 
                        name="password" 
                        type="password" 
                        minlength="4" 
                        autocomplete="new-password" 
                        required
                        [(ngModel)]="formData.password"
                        #passwordInput="ngModel">
                    @if (passwordInput.invalid && passwordInput.touched) {
                        <p class="error">Debe colocar una contraseña de al menos 4 caracteres.</p>
                    }
                </div>
                <div>
                    <label for="password2">Repite la contraseña*</label>
                    <input 
                        id="password2" 
                        name="password2" 
                        type="password" 
                        minlength="4" 
                        autocomplete="new-password" 
                        required
                        [(ngModel)]="formData.password2"
                        #password2Input="ngModel">
                    @if (formData.password !== formData.password2 && formData.password2 && password2Input.touched) {
                        <p class="error">Las contraseñas no coinciden.</p>
                    }
                </div>
                <button type="submit" [disabled]="isLoading">
                    @if (isLoading) {
                        Cargando...
                    } @else {
                        Registrarse
                    }
                </button>
                
                @if (errorRegister) {
                    <p class="error">{{ errorMessage }}</p>
                }
                
                <p>¿Ya tenés cuenta? <a routerLink="/login">Inicia sesión</a></p>
            </form>
        </div>
    </div>
</body>